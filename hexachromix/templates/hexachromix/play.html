{% extends 'base.html' %}

{% block title %}Hexachromix - {{ game.uid }}{% endblock %}

{% block content %}
{% comment %}<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.min.js"></script>{% endcomment %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.common.dev.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vuex/3.5.1/vuex.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/reconnecting-websocket/1.0.0/reconnecting-websocket.min.js"></script>

{% load static %}

<div class="content">
	<div id="app">
		<div class="columns is-desktop">
			{% if user.username == 'taylorvance' %} <p><button v-on:click="test">test</button></p> {% endif %}

			<div class="column" style="text-align:center">
				<h4 class="orbitron">Variant &ndash; {{ variant }}</h4>
				<h3 class="orbitron">
					[[ termination_message ?? colors[currentColor] + "'s turn" ]]
				</h3>

				<svg viewbox="0 0 100 100" style="width:75vmin; height:75vmin;">
					<circle cx="4" cy="4" r="1.25" stroke="#555" stroke-width="0.35" :fill="[[ socket_is_live ? '#0c0' : '#d00' ]]"/>
					<text x="6.5" y="4" fill="#555" style="font-size:0.25rem; text-anchor:left; dominant-baseline:central; pointer-events:none;">
						[[ socket_is_live ? 'Live' : 'Disconnected' ]]
					</text>

					{% comment %}<color-picker :x=90 :y=10 :size=10 />{% endcomment %}

					<board :x=50 :y=55 :size=50 :hfen="hfen"/>
				</svg>
			</div>

			<div class="column is-one-third">
				{% comment %}<p> [mycolors] </p>{% endcomment %}

				{% if user.username == 'taylorvance' %}
					<div style='font-size: 0.8em; font-family: "Lucida Console", Monaco, monospace;'>
						<h4>Debug</h4>
						<div>id: {{ game.id }}</div>
						<div>uid: {{ game.uid }}</div>
						<div>created: {{ game.datetime_created }}</div>
						<div>hfen: [[ hfen ]]</div>
					</div>
				{% endif %}
			</div>
		</div>
	</div>

	<script type='application/javascript'>
		var game_uid = '{{ game.uid }}'
		var variant = '{{ variant }}'
	</script>

	{% comment %}<link rel="stylesheet" href="{% static "css/hexachromix-board.css" %}">{% endcomment %}
	<script src="{% static "js/game.js" %}"></script>
</div>
{% endblock content %}
